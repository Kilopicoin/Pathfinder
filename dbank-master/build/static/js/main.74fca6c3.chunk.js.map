{"version":3,"sources":["components/Table.js","components/Content.js","components/Table2.js","components/Content2.js","components/App.js","index.js"],"names":["Table","React","Component","render","className","this","props","ProjectNo","map","Project","key","id","toString","name","voted","Content","Table2","ProjectNo2","Project2","href","link","rel","target","linktx","burnt","Content2","App","state","account","token","dbank","balance","dBankAddress","datax","pollyadresi","tokenadresi","projectName","projectNumara","voteAmount","voteAmountx","hasVoted","loading","updateProjectName","bind","updateVoteAmount","updateVoteAmountx","updateprojectNumara","loadBlockchainData","dispatch","fetchData","startEventListener","startEventListener2","window","ethereum","alert","web3","Web3","polly15","eth","Contract","Polly15","abi","LOPx","LOP","setState","enable","getAccounts","accounts","getBalance","on","location","reload","events","e_addProject","event","a","console","log","returnValues","error","e_addtoProject","methods","projectCount","call","i","project_tmp","published","push","linkyz","reduce","v","sort","b","trnsfrAmnt","allowance","approve","send","from","gasPrice","addProject","increaseAllowance","trnsfrAmntx","addtoProject","evt","value","style","width","backgroundColor","onChange","onClick","preventDefault","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.74fca6c3.chunk.js","sourcesContent":["import React from 'react'\nimport './Appx.css';\n\nclass Table extends React.Component {\n  render() {\n    return (\n      <table className='table'>\n        <thead>\n          <tr className='trx'>\n            <th>No</th>\n            <th>Project</th>\n            <th>Vote</th>\n\n\n          </tr>\n        </thead>\n        <tbody >\n          {this.props.ProjectNo.map((Project) => {\n            return(\n              <tr key={Project.id.toString()}>\n                <th>{Project.id}</th>\n                <td>{Project.name}</td>\n                <td>{Project.voted}</td>\n\n\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}\n\nexport default Table;\n","import React from 'react'\nimport Table from './Table'\n\nclass Content extends React.Component {\n  render() {\n    return (\n      <div>\n        <Table ProjectNo={this.props.ProjectNo} />\n        <hr/>\n       \n      </div>\n    )\n  }\n}\n\nexport default Content;\n","import React from 'react'\nimport './Appx.css';\nclass Table2 extends React.Component {\n\t\n\t\n\t\n  render() {\n\t  \n\t  \n    return (\n      <table className='table'>\n        <thead>\n          <tr className='trx'>\n            <th>No</th>\n\t\t\t<th>Video</th>\n\t\t\t<th>Burnt</th>\n          </tr>\n        </thead>\n        <tbody >\n          {this.props.ProjectNo2.map((Project2) => {\n            return(\n              <tr key={Project2.id.toString()}>\n                <th>{Project2.id}</th>\n\t\t\t\t<td><a href={Project2.link} rel=\"noopener noreferrer\" target=\"_blank\">{Project2.name}</a></td>\n\t\t\t\t<td><a href={Project2.linktx} rel=\"noopener noreferrer\" target=\"_blank\">{Project2.burnt}</a></td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}\n\nexport default Table2;\n","import React from 'react'\nimport Table2 from './Table2'\n\nclass Content2 extends React.Component {\n  render() {\n    return (\n      <div>\n        <Table2 ProjectNo2={this.props.ProjectNo2} />\n        <hr/>\n       \n      </div>\n    )\n  }\n}\n\nexport default Content2;\n","//import Swal from 'sweetalert2';\nimport React, { Component } from 'react';\nimport Polly15 from '../abis/Polly15.json'\nimport LOP from '../abis/LOP.json'\nimport Web3 from 'web3';\n//import web3 from './web3';\nimport './App.css';\nimport Content from './Content';\nimport Content2 from './Content2';\n\nclass App extends Component {\n\t\n\tconstructor(props) {\n    super(props)\n    this.state = {\n //     web3: 'undefined',\n      account: '',\n      token: null,\n      dbank: null,\n      balance: 0,\n      dBankAddress: null,\n\t  datax: \"\",\n\t  pollyadresi: \"0x61412D7b2bEBa95A44fE4d2C3E8599985951f559\",\n\t  tokenadresi: \"0x1791c97603b4695f53A4f1c02ca0efB74C44b310\",\n\tprojectName: \"\",\n\tprojectNumara: \"\",\n\tvoteAmount: 1000,\n\tvoteAmountx: 1000,\n    ProjectNo:[],\n\tProjectNo2:[],\n    hasVoted: false,\n    loading: false,\n    }\n\t\n\t\n\tthis.updateProjectName = this.updateProjectName.bind(this)\n\t\t\tthis.updateVoteAmount = this.updateVoteAmount.bind(this)\n\t\t\tthis.updateVoteAmountx = this.updateVoteAmountx.bind(this)\n\t\t\tthis.updateprojectNumara = this.updateprojectNumara.bind(this)\n\t\t\t\n\t\t\t\n  }\n\n  async componentWillMount() {\n    await this.loadBlockchainData(this.props.dispatch)\n\tthis.fetchData();\n\tthis.startEventListener();\n\tthis.startEventListener2();\n  }\n\n\t\n\t\n\t\n\t\n  async loadBlockchainData(dispatch) {\n\t  \n\t  \n    if(typeof window.ethereum==='undefined'){\n\t\t\n//      const web3 = new web3(this.state.HMY_TESTNET_RPC_URL)\n\t\t\n//      const web3 = new Web3(window.ethereum)\n\n\n \n\t  \n\t\twindow.alert('Please install MetaMask')\n      \n\t  const HMY_RPC_URL = \"https://api.s0.t.hmny.io\"\nconst web3 = new Web3(HMY_RPC_URL)\n\n\n\t\tconst polly15 = new web3.eth.Contract(Polly15.abi, this.state.pollyadresi)\n\t\tconst LOPx = new web3.eth.Contract(LOP.abi, this.state.tokenadresi)\n        this.setState({polly15: polly15})\n\t\tthis.setState({LOPx: LOPx})\n\t\t\n\n    } else  {\n\t\n\t\n      \n    \n\n\tconst web3 = new Web3(window.ethereum)\n\twindow.ethereum.enable()\n\n\n\tconst accounts = await web3.eth.getAccounts()\n\n      //load balance\n      if(typeof accounts[0] !=='undefined'){\n\t\t  \n\t\t  \n\t\t  \n        const balance = await web3.eth.getBalance(accounts[0])\n        this.setState({account: accounts[0], balance: balance, web3: web3})\n\t\t\n\n\t\tconst polly15 = new web3.eth.Contract(Polly15.abi, this.state.pollyadresi)\n\t\tconst LOPx = new web3.eth.Contract(LOP.abi, this.state.tokenadresi)\n        this.setState({polly15: polly15})\n\t\tthis.setState({LOPx: LOPx})\n     \n\t \n\t  \n\t  \n\t  \n      } else {\n\t\t  \n\t\t  \n\t\t  \n     \n\t  \n\t  \n        window.alert('Please login with MetaMask')\n\t\t\n\t\t\n\t\tconst HMY_RPC_URL = \"https://api.s0.t.hmny.io\"\n\t\t\tconst web3 = new Web3(HMY_RPC_URL)\n\n\n\t\tconst polly15 = new web3.eth.Contract(Polly15.abi, this.state.pollyadresi)\n\t\tconst LOPx = new web3.eth.Contract(LOP.abi, this.state.tokenadresi)\n        this.setState({polly15: polly15})\n\t\tthis.setState({LOPx: LOPx})\n\t\t\n      }\n\n      //load contracts\n      \n\t\n\t\n\t\n  }\n  \n  }\n\n\nstartEventListener(){\n\nwindow.ethereum.on('accountsChanged', () => {\n      window.location.reload();\n    })\n\t\n\t\tthis.state.polly15.events.e_addProject({})\n    .on('data', async function(event){\n        console.log(event.returnValues);\n\t\t\n        // Do something here\n\t\twindow.location.reload();\n\t\t\n    })\n    .on('error', console.error);\n\n    }\n\t\n\t\n\tstartEventListener2(){\n\n\t\tthis.state.polly15.events.e_addtoProject({})\n    .on('data', async function(event){\n        console.log(event.returnValues);\n\t\t\n        // Do something here\n\t\twindow.location.reload();\n\t\t\n    })\n    .on('error', console.error);\n\n    }\n\n\nasync fetchData(){\n        const projectCount = await this.state.polly15.methods.projectCount().call();\n        console.log('projectCount', projectCount);\n\n        for(var i=1; i<=projectCount; i++){\n\n            const project_tmp = await this.state.polly15.methods.ProjectNo(i).call();\n            console.log('project_tmp', project_tmp);\n\n            const ProjectNo = [...this.state.ProjectNo];\n\t\t\tconst ProjectNo2 = [...this.state.ProjectNo2];\n\n\t//\t\tlet date = new Intl.DateTimeFormat('en-US', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit' }).format(project_tmp.recordTime.toNumber());\n\n\t\t\tif(project_tmp.published === \"0\") {\n\t\t\t\t\n            ProjectNo.push({\n                            id: project_tmp.id,\n                            name: project_tmp.name,\n\t\t\t\t\t\t\tvoted: project_tmp.voted/1000000,\n\t\t\t\t\t\t\tpublished: project_tmp.published,\n            });\n\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif(project_tmp.published === \"1\") {\n\t\t\t\t\n\t\t\t\t\n\t\t\tProjectNo2.push({\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\tid: project_tmp.id,\n                            name: project_tmp.name,\n\t\t\t\t\t\t\tvoted: project_tmp.voted/1000000,\n\t\t\t\t\t\t\tburnt: project_tmp.burnt/1000000,\n\t\t\t\t\t\t\tlink: project_tmp.link,\n\t\t\t\t\t\t\tpublished: project_tmp.published,\n\t\t\t\t\t\t\tlinktx: project_tmp.linkyz,\n                \n            \n\t\t\t\n\t\t\t\n                            \n            });\n\t\t\t\n\n\t\t\t}\n\t\t\t\n\n\t\t\t\n\t\t\t\n\t\t\tconst datax = ProjectNo2.reduce((a,v) =>  a = a + v.burnt , 0 )\n\t\t\tthis.setState({datax:datax})\n\t\t\t\n\n\n  ProjectNo.sort((a, b) => {\n    if (a.voted < b.voted) {\n      return 1;\n    }\n    if (a.voted > b.voted) {\n      return -1;\n    }\n    return 0;\n  });\n\n\nProjectNo2.sort((a, b) => {\n    if (a.burnt < b.burnt) {\n      return 1;\n    }\n    if (a.burnt > b.burnt) {\n      return -1;\n    }\n    return 0;\n  });\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\n            this.setState({ProjectNo:ProjectNo})\n\t\t\tthis.setState({ProjectNo2:ProjectNo2})\n\n\n        }\n\n    }\n\t\n\t\n\t\n\t\n\t\n\tasync addProject(){\n\t\t\n\t\t\n\t\tconst trnsfrAmnt = this.state.voteAmount * 1000000;\n\t\tconst projectName = this.state.projectName;\n\t\tconst hak = await this.state.LOPx.methods.allowance(this.state.account, this.state.pollyadresi).call();\n\t\t\n\t\tif ( hak === \"0\" ) {\n\t\t\n\t\tawait this.state.LOPx.methods.approve(this.state.pollyadresi, trnsfrAmnt).send({\n\t\tfrom: this.state.account,\n\t\tgasPrice: 101000000000\n        })\n            this.state.polly15.methods.addProject(projectName, trnsfrAmnt).send({\n\t\tfrom: this.state.account,\n\t\tgasPrice: 101000000000\n        })\n\n\t\t\n\t\t\n\n\t\t\n\t\t} else {\n\t\t\n\t\tawait this.state.LOPx.methods.increaseAllowance(this.state.pollyadresi, trnsfrAmnt).send({\n\t\tfrom: this.state.account,\n\t\tgasPrice: 101000000000\n        })\n\t\t\tthis.state.polly15.methods.addProject(projectName, trnsfrAmnt).send({\n\t\tfrom: this.state.account,\n\t\tgasPrice: 101000000000\n        })\n\t\t\n\t\t\n\t\t}\n\t\t\n\t\t\n\t\t\n    }\n\t\n\tasync addtoProject(){\n\t\t\n\t\t\n\t\tconst trnsfrAmntx = this.state.voteAmountx * 1000000;\n\t\tconst projectNumara = this.state.projectNumara;\n\t\tconst hakx = await this.state.LOPx.methods.allowance(this.state.account, this.state.pollyadresi).call();\n\t\t\t\n\t\t\tif ( hakx === \"0\" ) {\n\t\t\t\t\n\t\t\t\tawait this.state.LOPx.methods.approve(this.state.pollyadresi, trnsfrAmntx).send({\n\t\tfrom: this.state.account,\n\t\tgasPrice: 101000000000\n        })\n            this.state.polly15.methods.addtoProject(projectNumara, trnsfrAmntx).send({\n            from: this.state.account,\n\t\t\tgasPrice: 101000000000\n        })\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t\n\t\t\t\t\tawait this.state.LOPx.methods.increaseAllowance(this.state.pollyadresi, trnsfrAmntx).send({\n\t\tfrom: this.state.account,\n\t\tgasPrice: 101000000000\n        })\n\t\t\tthis.state.polly15.methods.addtoProject(projectNumara, trnsfrAmntx).send({\n            from: this.state.account,\n\t\t\tgasPrice: 101000000000\n        })\n\t\t\n\t\t\t}\n\t\t\t\t\n\t\t\t\n\t\t\n\t\t\n\t\n\t\t\n    }\n\t\n\t\n    updateProjectName (evt) {\n        console.log('projectName : ', this.state.projectName);\n            this.setState({\n              projectName: evt.target.value\n            });\n    }\n\t\n\t\n\tupdateprojectNumara (evt) {\n        console.log('projectNumara : ', this.state.projectNumara);\n            this.setState({\n              projectNumara: evt.target.value\n            });\n    }\n\t\n\tupdateVoteAmount (evt) {\n        console.log('voteAmount : ', this.state.voteAmount);\n            this.setState({\n              voteAmount: evt.target.value\n            });\n    }\n\t\n\tupdateVoteAmountx (evt) {\n        console.log('voteAmountx : ', this.state.voteAmountx);\n            this.setState({\n              voteAmountx: evt.target.value\n            });\n    }\n\n  \n\n  render() {\n    return (\n      <div className='text-center'>\n\t\t\t  \n\t\t\t  <h3>Pathfinder (Youtube Content Voting dAPP of Kilopi D.A.O) v0.2</h3>\n\t\t\t  \n\t\t\t  \n                <div className='kolon1' >\n                  <h4>Voting List</h4>\n                  <br/>\n\t\t\t\t  \n\t\t\t\t  <h5> New Project : <input style={{ width:\"150px\", backgroundColor: \"#fff0b3\" }} value={this.state.projectName} onChange={this.updateProjectName}/> &nbsp;\n                  \n\t\t\t\t   Vote : <input style={{ width:\"150px\", backgroundColor: \"#fff0b3\" }} value={this.state.voteAmount} onChange={this.updateVoteAmount}/> &nbsp;\n                  \n\t\t\t\t  <button className='btn btn-warning' onClick={(event) => {\n                                                                       event.preventDefault()\n                                                                       this.addProject()\n                                                                     }  }>Create\n                  </button>\n\t\t\t\t  </h5>\n\t\t\t\t  \n\t\t\t\t  \n\t\t\t\t  <h5> Project No : <input style={{ width:\"150px\", backgroundColor: \"#fff0b3\" }} value={this.state.projectNumara} onChange={this.updateprojectNumara}/> &nbsp;\n                  \n\t\t\t\t   Vote : <input style={{ width:\"150px\", backgroundColor: \"#fff0b3\" }} value={this.state.voteAmountx} onChange={this.updateVoteAmountx}/> &nbsp;\n                  \n\t\t\t\t  <button className='btn btn-warning' onClick={(event) => {\n                                                                       event.preventDefault()\n                                                                       this.addtoProject()\n                                                                     }  }>Add\n                  </button>\n\t\t\t\t  </h5>\n\t\t\t\t  <br/>\n\t\t\t\t  \n\t\t\t\t  <h5>\n                  { this.state.loading\n                    ? <p className='text-center'>Loading...</p>\n                    : <Content\n                        ProjectNo={this.state.ProjectNo} />\n                  }\n\t\t\t\t  </h5>\n\t\t\t\t  \n                </div>\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t<div className=\"vl\"></div>\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t<div className='kolon2' >\n                  <h4 className='h4'>Published Videos</h4>\n                  <br/>\n\t\t\t\t  <h4 className='h4'>Total Burnt LOP Tokens</h4>\n\t\t\t\t  <h4 className='h44'>{this.state.datax}</h4>\n\t\t\t\t  <br/>\n\t\t\t\t  <h5 className='h5'>\n                  { this.state.loading\n                    ? <p className='text-center'>Loading...</p>\n                    : <Content2\n                        ProjectNo2={this.state.ProjectNo2} />\n                  }\n\t\t\t\t  </h5>\n                </div>\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n              </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport App from './components/App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}